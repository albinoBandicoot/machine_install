# Setup
* Simply clone this repo and install expect: ```sudo apt-get install expect```
* This program also requires expect to be installed on the target machine(s).
* If you want to use GPG to encrypt the stored password, you'll need to make sure that's installed as well.
* If you don't have a GPG key, then run ```gpg gen-key``` and accept the default options, entering a name, an email, and a password. 

# Usage
* Running ```./mach_install.sh <package name>``` will connect to each of the machines listed in the ```.machines``` file and install the package with ```apt-get```. If some machines are down, it will keep attempting to connect until the installations have been completed on all machines.
* The ```.machines``` file should be in the same directory as the scripts, and should contain either a single DNS name or IP address on each line.
* The ```.secrets.gpg``` file should be a GPG-encrypted file in the same directory as the scripts that contains the password to be used to log in to all of the target machines. This can be generated by using ```gpg -e -r <name> .secrets```, where ```<name>``` is the name of the GPG key, and ```.secrets``` is the un-encrypted file. Make sure to delete ```.secrets``` after you're done. If you don't care about security you can just make the ```.secrets``` file, and this will work.
* This program also assumes a user named labmin, this is currently hardcoded into the expect.sh file on line 9.
* On OCCS svradm account: there is a GPG key called 'svradm' already set up.

